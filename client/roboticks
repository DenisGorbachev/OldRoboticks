#!/usr/bin/env php
<?php
	define('VERSION', '0.1a');
	define('BASEDIR', dirname(__FILE__));
	define('CACHEDIR', BASEDIR.'/cache');
	define('LIBDIR', BASEDIR.'/lib');
	define('DEBUG', file_exists(CACHEDIR.'/debug'));
	try {
		require_once LIBDIR.'/util/config.php';
		Config::load(BASEDIR.'/config');
		require_once LIBDIR.'/util/runner.php';
	} catch (RoboticksException $e) {
		if (!Config::get('generic/debug') || $e instanceOf RoboticksException) {
			echo '>> '.$e->getMessage().PHP_EOL;
			exit($e->getCode());
		} else {
			throw $e;
		}
	}
