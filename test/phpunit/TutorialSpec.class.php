<?php

require_once __DIR__.'/../BaseSpec.class.php';

/**
 * @group time_consuming
 */
class TutorialSpec extends BaseSpec {
    public function testNormal() {
        return $this
            ->given('Genesis')
                ->and('User', 'Alice')
                ->addRealm('Alice_Tutorial')
                ->addRobot('toaster')
                ->addRobot('zebra')
                ->addRobot('tea1')
                ->addRobot('tea2')
                ->addRobot('date')
            ->when('Exec', 'realm:create -c TutorialRealmController --no-password Alice_Tutorial')
            ->then('Success')
                ->given('Realm', 'Alice_Tutorial')
            ->then('Success')
            	->given('Robot', 'toaster')
            ->then('Success')
            ->when('Exec', 'fire 9,9 P')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'fire 7,5 U')
            ->then('Success')
            ->when('Exec', 'fire 6,8 O')
            ->then('Success')
            	->given('Robot', 'zebra')
            ->then('Success')
            ->when('Exec', 'fire 6,8 A')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'fire 2,2 F')
            ->then('Success')
            ->when('Exec', 'mv 12,12')
            ->then('Success')
            ->when('Exec', 'mv 12,14')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'fire 15,13 A')
            ->then('Success')
            ->when('Exec', 'report --for drops')
            ->then('Success')
            ->when('Exec', 'report --for letters')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'repair '.$this->getRobotId('tea1').' A')
            ->then('Success')
            	->given('Robot', 'tea1')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'report --for drops')
            ->then('Success')
            ->when('Exec', 'mv 14,13')
            ->then('Success')
            ->when('Exec', 'pick T')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'drop T')
            ->then('Success')
            ->when('Exec', 'report --for letters')
            ->then('Success')
            	->given('Robot', 'zebra')
            ->then('Success')
            ->when('Exec', 'mv 12,13')
            ->then('Success')
            	->given('Robot', 'tea1')
            ->then('Success')
            ->when('Exec', 'mv 12,13')
            ->then('Success')
            	->given('Robot', 'zebra')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            	->given('Robot', 'tea1')
            ->then('Success')
            ->when('Exec', 'pick E')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'drop E')
            ->then('Success')
            ->when('Exec', 'asm TEA')
            ->then('Success')
            ->when('Exec', 'mv 19,14')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'mv 14,19')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'mv 9,14')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'fire 7,14 C')
            ->then('Success')
            	->given('Robot', 'zebra')
            ->then('Success')
            ->when('Exec', 'mv 9,14')
            ->then('Success')
            ->when('Exec', 'fire 7,14 C')
            ->then('Success')
            	->given('Robot', 'tea1')
            ->then('Success')
            ->when('Exec', 'report --for letters')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'mv 13,12')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'pick T')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'drop T')
            ->then('Success')
            ->when('Exec', 'mv 12,13')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'pick E')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'drop E')
            ->then('Success')
            ->when('Exec', 'mv 13,13')
            ->then('Success')
            ->when('Exec', 'extract')
            ->then('Success')
            ->when('Exec', 'pick D')
            ->then('Success')
            ->when('Exec', 'mv 14,14')
            ->then('Success')
            ->when('Exec', 'drop D')
            ->then('Success')
            ->when('Exec', 'asm DATE')
            ->then('Success')
            	->given('Robot', 'date')
            ->then('Success')
            ->when('Exec', 'mv 7,14')
            ->then('Success')
            ->when('Exec', 'mv 7,14')
            ->then('Success')
            ->when('Exec', 'report')
            ->then('Success')
            ->when('Exec', 'disasm '.$this->getRobotId('zucchini'))
            ->then('Success')
            ->when('Exec', 'report --for drops')
            ->then('Success')
            ->when('Exec', 'asm HEN')
            ->then('Success')
            ->when('Exec', 'ls')
            ->then('Success')
    ;}

}
